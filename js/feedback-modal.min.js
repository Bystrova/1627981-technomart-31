const feedbackOpenButton=document.querySelector(".contact-us"),feedbackPopup=document.querySelector(".feedback-modal"),userNameField=feedbackPopup.querySelector("[name=user-name]"),userEmailField=feedbackPopup.querySelector("[name=user-email"),userMessageField=feedbackPopup.querySelector("[name=message]"),feedbackCloseButton=feedbackPopup.querySelector(".close-button"),modal=document.querySelector(".addition-modal"),feedbackForm=document.querySelector(".feedback-form"),submitButton=feedbackPopup.querySelector(".submit-button");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("userName")}catch(e){isStorageSupport=!1}feedbackOpenButton.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.add("modal-show"),storage&&(userNameField.value=storage,userEmailField.value=localStorage.getItem("userEmail")),(userNameField.value?userMessageField:userNameField).focus()}),feedbackCloseButton.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.remove("modal-error"),feedbackPopup.classList.remove("modal-show")}),window.addEventListener("keydown",e=>{"Esc"!==e.key&&"Escape"!==e.key||(feedbackPopup.classList.remove("modal-error"),feedbackPopup.classList.remove("modal-show"))}),feedbackForm.addEventListener("submit",e=>{userNameField.value&&userEmailField.value&&userMessageField.value?isStorageSupport&&(localStorage.setItem("userName",userNameField.value),localStorage.setItem("userEmail",userEmailField.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal-error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal-error"))});
